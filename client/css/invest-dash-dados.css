/* =============================== */
/* Alocação Widget                 */
/* =============================== */

:host { all: initial; font-family: 'Inter', sans-serif; }

.widget-card {
	width: 880px;
	height: 430px;
	background: rgba(40, 35, 30, 0.4);
	backdrop-filter: blur(16px);
	-webkit-backdrop-filter: blur(16px);
	border: 1px solid rgba(255, 230, 200, 0.08);
	border-radius: 20px;
	box-shadow: 0 15px 30px rgba(0,0,0,0.26), inset 0 1px 0 rgba(255,255,255,0.03);
	color: #EAE5E0;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex-direction: column;
	padding: 24px;
}

.header {
	display: flex;
	justify-content: space-between;
	margin-bottom: 16px;
	gap: 10px;
	align-items: flex-start;
}

h2 {
	font-family: 'Playfair Display', serif;
	margin: 0;
	font-size: 1.2rem;
	font-weight: 600;
}

.subtitle {
	font-size: 0.75rem;
	color: #9A908A;
}

#backNav {
	display: none;
	cursor: pointer;
	color: #D4AF37;
	font-size: 1.4rem;
	margin-bottom: 4px;
	width: fit-content;
	transition: transform 0.2s ease;
}

#backNav:hover { transform: translateX(-4px); }

/* ========================================= */
/* FIX: Escopo exclusivo do card de Alocação */
/* ========================================= */

.widget-card[data-widget="alocacao"] {
	width: 880px;
	height: 430px;
	background: rgba(40, 35, 30, 0.4);
	backdrop-filter: blur(16px);
	-webkit-backdrop-filter: blur(16px);
	border: 1px solid rgba(255, 230, 200, 0.08);
	border-radius: 20px;
	box-shadow: 0 15px 30px rgba(0,0,0,0.26), inset 0 1px 0 rgba(255,255,255,0.03);
	color: #EAE5E0;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex-direction: column;
	padding: 24px;
}

.widget-card[data-widget="alocacao"] .header {
	display: flex;
	justify-content: space-between;
	margin-bottom: 16px;
	gap: 10px;
	align-items: flex-start;
	flex-wrap: nowrap;
}

.widget-card[data-widget="alocacao"] h2 {
	font-family: 'Playfair Display', serif;
	margin: 0;
	font-size: 1.2rem;
	font-weight: 600;
	letter-spacing: normal;
	color: #EAE5E0;
}

.widget-card[data-widget="alocacao"] .subtitle {
	font-size: 0.75rem;
	color: #9A908A;
	font-weight: 400;
}

.widget-card[data-widget="alocacao"] #backNav {
	display: none;
	cursor: pointer;
	color: #D4AF37;
	font-size: 1.4rem;
	margin-bottom: 4px;
	width: fit-content;
	transition: transform 0.2s ease;
	align-items: initial;
	font-weight: initial;
}

.widget-card[data-widget="alocacao"] #backNav:hover { transform: translateX(-4px); }

.widget-card[data-widget="alocacao"] .filters {
	display: flex;
	gap: 8px;
	margin-top: 8px;
	flex-wrap: nowrap;
	justify-content: flex-start;
}

.widget-card[data-widget="alocacao"] .filter-btn {
	background: rgba(0,0,0,0.2);
	border: 1px solid rgba(255, 230, 200, 0.08);
	color: #9A908A;
	padding: 4px 10px;
	border-radius: 8px;
	font-size: 0.65rem;
	cursor: pointer;
	transition: 0.3s;
	font-family: 'Inter', sans-serif;
	font-weight: 600;
	box-shadow: none;
}

.widget-card[data-widget="alocacao"] .filter-btn.active {
	background: rgba(255,255,255,0.1);
	color: #D4AF37;
	box-shadow: none;
}

.widget-card[data-widget="alocacao"] .kpi-grid {
	display: flex;
	gap: 20px;
	margin-bottom: 14px;
	border-bottom: 1px solid rgba(255, 230, 200, 0.08);
	padding-bottom: 14px;
}

.widget-card[data-widget="alocacao"] .kpi-item { flex: 1; min-width: 0; }

.widget-card[data-widget="alocacao"] .kpi-label {
	font-size: 0.65rem;
	color: #9A908A;
	text-transform: uppercase;
	letter-spacing: 0.05em;
	margin-bottom: 0;
}

.widget-card[data-widget="alocacao"] .kpi-value {
	font-size: 1.4rem;
	font-weight: 300;
	line-height: 1.2;
}

.widget-card[data-widget="alocacao"] .trade-line {
	display: flex;
	gap: 8px;
	margin-top: 4px;
	font-size: 0.72rem;
	color: #9A908A;
}

.widget-card[data-widget="alocacao"] .trade-buy { color: #8BA888; }
.widget-card[data-widget="alocacao"] .trade-sell { color: #D97757; }

.widget-card[data-widget="alocacao"] .allocation-list {
	display: flex;
	flex-direction: column;
	gap: 10px;
	flex: 1;
	overflow: auto;
	scrollbar-width: thin;
	scrollbar-color: rgba(212, 175, 55, 0.35) transparent;
}

.widget-card[data-widget="alocacao"] .allocation-list::-webkit-scrollbar { width: 4px; }
.widget-card[data-widget="alocacao"] .allocation-list::-webkit-scrollbar-thumb { background: rgba(212, 175, 55, 0.35); border-radius: 8px; }

.widget-card[data-widget="alocacao"] .alloc-row {
	cursor: pointer;
	padding: 8px;
	border-radius: 8px;
	transition: background 0.2s;
	border: 1px solid transparent;
	background: transparent;
}

.widget-card[data-widget="alocacao"] .alloc-row.no-drill { cursor: default; }
.widget-card[data-widget="alocacao"] .alloc-row:hover { background: rgba(255,255,255,0.03); border-color: rgba(255,255,255,0.05); }

.widget-card[data-widget="alocacao"] .row-header {
	display: flex;
	justify-content: space-between;
	margin-bottom: 6px;
	font-size: 0.85rem;
	gap: 8px;
	align-items: center;
	flex-wrap: nowrap;
}

.widget-card[data-widget="alocacao"] .row-name-wrap {
	display: inline-flex;
	gap: 6px;
	align-items: center;
}

.widget-card[data-widget="alocacao"] .row-meta {
	font-size: 0.75rem;
	color: #9A908A;
	display: flex;
	gap: 10px;
	align-items: center;
	flex-wrap: nowrap;
}

.widget-card[data-widget="alocacao"] .bar-container {
	position: relative;
	height: 8px;
	background: rgba(255,255,255,0.05);
	border-radius: 4px;
	overflow: hidden;
	margin-top: 6px;
}

.widget-card[data-widget="alocacao"] .bar-target-marker {
	position: absolute;
	top: 0;
	bottom: 0;
	width: 2px;
	background: rgba(255,255,255,0.5);
	z-index: 2;
}

.widget-card[data-widget="alocacao"] .bar-fill {
	height: 100%;
	border-radius: 4px;
	transition: width 0.35s ease;
}

.widget-card[data-widget="alocacao"] .on-track { background: #D4AF37; }
.widget-card[data-widget="alocacao"] .over { background: #D97757; }
.widget-card[data-widget="alocacao"] .under { background: #8BA888; }

.widget-card[data-widget="alocacao"] .diff-tag {
	font-size: 0.7rem;
	padding: 2px 6px;
	border-radius: 4px;
	background: rgba(0,0,0,0.3);
	white-space: nowrap;
}

.widget-card[data-widget="alocacao"] .diff-tag.over { color: #D97757; }
.widget-card[data-widget="alocacao"] .diff-tag.under { color: #8BA888; }
.widget-card[data-widget="alocacao"] .diff-tag.on-track { color: #D4AF37; }

.widget-card[data-widget="alocacao"] .rebalance-chip {
	font-size: 0.66rem;
	padding: 2px 6px;
	border-radius: 4px;
	background: rgba(255,255,255,0.06);
	color: #EAE5E0;
	white-space: nowrap;
}

.widget-card[data-widget="alocacao"] .rebalance-chip.buy { color: #8BA888; }
.widget-card[data-widget="alocacao"] .rebalance-chip.sell { color: #D97757; }
.widget-card[data-widget="alocacao"] .rebalance-chip.hold { color: #D4AF37; }

.widget-card[data-widget="alocacao"] .result-chip {
	font-size: 0.66rem;
	padding: 2px 6px;
	border-radius: 4px;
	background: rgba(0,0,0,0.28);
	white-space: nowrap;
}

.widget-card[data-widget="alocacao"] .result-chip.positive { color: #8BA888; }
.widget-card[data-widget="alocacao"] .result-chip.negative { color: #D97757; }
.widget-card[data-widget="alocacao"] .result-chip.neutral { color: #9A908A; }

.widget-card[data-widget="alocacao"] .info-badge {
	display: inline-flex;
	width: 16px;
	height: 16px;
	border-radius: 999px;
	border: 1px solid rgba(255,255,255,0.2);
	align-items: center;
	justify-content: center;
	font-size: 0.65rem;
	color: #D4AF37;
	background: rgba(0,0,0,0.25);
}

.widget-card[data-widget="alocacao"] .empty-state {
	color: #9A908A;
	font-size: 0.78rem;
	padding: 10px 2px;
}

.filters { display: flex; gap: 8px; margin-top: 8px; }

.filter-btn {
	background: rgba(0,0,0,0.2);
	border: 1px solid rgba(255, 230, 200, 0.08);
	color: #9A908A;
	padding: 4px 10px;
	border-radius: 8px;
	font-size: 0.65rem;
	cursor: pointer;
	transition: 0.3s;
	font-family: 'Inter', sans-serif;
	font-weight: 600;
}

.filter-btn.active {
	background: rgba(255,255,255,0.1);
	color: #D4AF37;
}

.kpi-grid {
	display: flex;
	gap: 20px;
	margin-bottom: 14px;
	border-bottom: 1px solid rgba(255, 230, 200, 0.08);
	padding-bottom: 14px;
}

.kpi-item { flex: 1; min-width: 0; }

.kpi-label {
	font-size: 0.65rem;
	color: #9A908A;
	text-transform: uppercase;
	letter-spacing: 0.05em;
}

.kpi-value {
	font-size: 1.4rem;
	font-weight: 300;
	line-height: 1.2;
}

.trade-line {
	display: flex;
	gap: 8px;
	margin-top: 4px;
	font-size: 0.72rem;
	color: #9A908A;
}

.trade-buy { color: #8BA888; }
.trade-sell { color: #D97757; }

.allocation-list {
	display: flex;
	flex-direction: column;
	gap: 10px;
	flex: 1;
	overflow: auto;
	scrollbar-width: thin;
	scrollbar-color: rgba(212, 175, 55, 0.35) transparent;
}

.allocation-list::-webkit-scrollbar { width: 4px; }
.allocation-list::-webkit-scrollbar-thumb { background: rgba(212, 175, 55, 0.35); border-radius: 8px; }

.alloc-row {
	cursor: pointer;
	padding: 8px;
	border-radius: 8px;
	transition: background 0.2s;
	border: 1px solid transparent;
}

.alloc-row.no-drill { cursor: default; }
.alloc-row:hover { background: rgba(255,255,255,0.03); border-color: rgba(255,255,255,0.05); }

.row-header {
	display: flex;
	justify-content: space-between;
	margin-bottom: 6px;
	font-size: 0.85rem;
	gap: 8px;
	align-items: center;
}

.row-name-wrap {
	display: inline-flex;
	gap: 6px;
	align-items: center;
}

.row-meta {
	font-size: 0.75rem;
	color: #9A908A;
	display: flex;
	gap: 10px;
	align-items: center;
}

.bar-container {
	position: relative;
	height: 8px;
	background: rgba(255,255,255,0.05);
	border-radius: 4px;
	overflow: hidden;
	margin-top: 6px;
}

.bar-target-marker {
	position: absolute;
	top: 0;
	bottom: 0;
	width: 2px;
	background: rgba(255,255,255,0.5);
	z-index: 2;
}

.bar-fill {
	height: 100%;
	border-radius: 4px;
	transition: width 0.35s ease;
}

.on-track { background: #D4AF37; }
.over { background: #D97757; }
.under { background: #8BA888; }

.diff-tag {
	font-size: 0.7rem;
	padding: 2px 6px;
	border-radius: 4px;
	background: rgba(0,0,0,0.3);
	white-space: nowrap;
}

.diff-tag.over { color: #D97757; }
.diff-tag.under { color: #8BA888; }
.diff-tag.on-track { color: #D4AF37; }

.rebalance-chip {
	font-size: 0.66rem;
	padding: 2px 6px;
	border-radius: 4px;
	background: rgba(255,255,255,0.06);
	color: #EAE5E0;
	white-space: nowrap;
}

.rebalance-chip.buy { color: #8BA888; }
.rebalance-chip.sell { color: #D97757; }
.rebalance-chip.hold { color: #D4AF37; }

.result-chip {
	font-size: 0.66rem;
	padding: 2px 6px;
	border-radius: 4px;
	background: rgba(0,0,0,0.28);
	white-space: nowrap;
}

.result-chip.positive { color: #8BA888; }
.result-chip.negative { color: #D97757; }
.result-chip.neutral { color: #9A908A; }

.info-badge {
	display: inline-flex;
	width: 16px;
	height: 16px;
	border-radius: 999px;
	border: 1px solid rgba(255,255,255,0.2);
	align-items: center;
	justify-content: center;
	font-size: 0.65rem;
	color: #D4AF37;
	background: rgba(0,0,0,0.25);
}

.empty-state {
	color: #9A908A;
	font-size: 0.78rem;
	padding: 10px 2px;
}

/* =============================== */
/* Patrimônio Widget               */
/* =============================== */

:host {
	all: initial;
	font-family: 'Inter', sans-serif;
}

.widget-card {
	width: 880px;
	height: 430px;
	background: rgba(40, 35, 30, 0.4);
	backdrop-filter: blur(16px);
	-webkit-backdrop-filter: blur(16px);
	border: 1px solid rgba(255, 230, 200, 0.08);
	border-radius: 20px;
	box-shadow: 0 15px 30px rgba(0,0,0,0.26), inset 0 1px 0 rgba(255,255,255,0.03);
	position: relative;
	overflow: hidden;
	box-sizing: border-box;
	color: #EAE5E0;
	display: flex;
	flex-direction: row;
}

.left-side {
	flex: 1;
	padding: 24px;
	display: flex;
	flex-direction: column;
	overflow: hidden;
}

.right-side {
	width: 260px;
	border-left: 0.5px solid rgba(212, 175, 55, 0.12);
	padding: 24px 20px;
	display: flex;
	flex-direction: column;
}

.header {
	display: flex;
	justify-content: space-between;
	align-items: flex-start;
	margin-bottom: 20px;
	flex-shrink: 0;
}

h2 {
	font-family: 'Playfair Display', serif;
	font-weight: 600;
	font-size: 1.2rem;
	letter-spacing: 0.02em;
	color: #EAE5E0;
	margin: 0 0 2px;
}

.subtitle {
	font-size: 0.75rem;
	color: #9A908A;
	font-weight: 400;
}

.filters { display: flex; gap: 8px; }
.filter-group {
	background: rgba(0,0,0,0.2);
	padding: 2px;
	border-radius: 10px;
	display: flex;
	border: 1px solid rgba(255, 230, 200, 0.08);
}

.filter-btn {
	background: transparent;
	border: none;
	color: #9A908A;
	padding: 4px 10px;
	font-size: 0.65rem;
	border-radius: 8px;
	cursor: pointer;
	transition: all 0.3s ease;
	font-family: 'Inter', sans-serif;
	font-weight: 600;
}

.filter-btn.active {
	background: rgba(255, 255, 255, 0.1);
	color: #D4AF37;
	box-shadow: 0 2px 10px rgba(0,0,0,0.2);
}

.kpi-section {
	display: grid;
	grid-template-columns: 1fr 0.8fr 0.8fr;
	gap: 16px;
	margin-bottom: 20px;
	flex-shrink: 0;
}

.kpi-box { display: flex; flex-direction: column; justify-content: center; }
.kpi-box.secondary { border-left: 1px solid rgba(212, 175, 55, 0.4); padding-left: 15px; }
.kpi-box.tertiary { border-left: 1px solid rgba(212, 175, 55, 0.4); padding-left: 15px; }

.label {
	font-size: 0.65rem;
	text-transform: uppercase;
	letter-spacing: 0.08em;
	color: #9A908A;
	margin-bottom: 4px;
}

.main-value { font-size: 1.8rem; font-weight: 300; color: #EAE5E0; line-height: 1; }
.sub-value { font-size: 1.25rem; color: #EAE5E0; margin-top: 2px; }

.variation {
	display: inline-flex;
	align-items: center;
	font-size: 0.75rem;
	font-weight: 600;
	margin-top: 6px;
	padding: 3px 8px;
	border-radius: 6px;
	background: rgba(139, 168, 136, 0.1);
	color: #8BA888;
	width: fit-content;
}

.chart-container {
	width: 100%;
	height: 140px;
	position: relative;
	cursor: crosshair;
	flex: 1;
}

svg { width: 100%; height: 100%; overflow: visible; }
.chart-area { fill: url(#gradientGolden); opacity: 0.4; }
.chart-line {
	fill: none;
	stroke: #D4AF37;
	stroke-width: 2;
	stroke-linecap: round;
	filter: drop-shadow(0 0 6px rgba(212, 175, 55, 0.2));
}

.interactive-line { stroke: rgba(255,255,255,0.2); stroke-width: 1; stroke-dasharray: 4; display: none; }
.chart-dot { fill: #D4AF37; stroke: #12100E; stroke-width: 2; display: none; }

.chart-tooltip {
	position: absolute;
	background: rgba(25, 20, 18, 0.95);
	border: 1px solid rgba(255, 230, 200, 0.08);
	padding: 8px 12px;
	border-radius: 8px;
	font-size: 0.75rem;
	pointer-events: none;
	display: none;
	z-index: 100;
	box-shadow: 0 4px 12px rgba(0,0,0,0.5);
	transform: translate(-50%, -100%);
	margin-top: -10px;
}

.chart-tooltip-label {
	color: #9A908A;
	font-size: 0.68rem;
}

.chart-tooltip-value {
	font-weight: 700;
}

.chart-tooltip-value.positive {
	color: #8BA888;
}

.chart-tooltip-value.negative {
	color: #D97757;
}

.details-grid {
	display: flex;
	flex-direction: column;
	gap: 4px;
	flex: 1;
	overflow-y: auto;
	scrollbar-width: thin;
	scrollbar-color: rgba(212, 175, 55, 0.3) transparent;
	padding-right: 4px;
}

.details-grid::-webkit-scrollbar { width: 4px; }
.details-grid::-webkit-scrollbar-track { background: transparent; }
.details-grid::-webkit-scrollbar-thumb { background: rgba(212, 175, 55, 0.3); border-radius: 10px; }

.asset-row {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 8px 0;
	border-bottom: 1px solid rgba(255,255,255,0.03);
	font-weight: 400;
	cursor: pointer;
	transition: background 0.2s;
}

.asset-row:hover { background: rgba(255,255,255,0.02); }
.asset-info { display: flex; flex-direction: column; }
.asset-name { font-weight: 400; font-size: 0.85rem; }
.asset-meta { font-size: 0.7rem; color: #9A908A; }
.asset-value { text-align: right; font-weight: 400; font-size: 0.9rem; font-feature-settings: 'tnum'; }
.asset-value-sub { font-size: 0.7rem; color: #9A908A; }
.detail-section-title { opacity: 0.7; display: block; margin-bottom: 6px; }

.tooltip-portfolio-line {
	font-weight: 700;
	color: #D4AF37;
	margin-bottom: 4px;
}

.tooltip-benchmark-line {
	font-size: 0.7rem;
	opacity: 0.95;
}

.tooltip-benchmark-line.benchmark-cdi { color: rgba(255,255,255,0.85); }
.tooltip-benchmark-line.benchmark-selic { color: #8BA888; }
.tooltip-benchmark-line.benchmark-ibov { color: #D4AF37; }
.tooltip-benchmark-line.benchmark-ifix { color: #D97757; }
.asset-value-sub { font-size: 0.7rem; color: #8BA888; }
.detail-section { margin-bottom: 20px; }
.detail-section-title { opacity: 0.7; display: block; margin-bottom: 8px; }
.chart-tooltip-label { color: #9A908A; font-size: 0.65rem; }
.chart-tooltip-value { color: #D4AF37; font-weight: 700; }

#backNav {
	display: none;
	cursor: pointer;
	color: #D4AF37;
	margin-bottom: 4px;
	font-size: 1.4rem;
	align-items: center;
	font-weight: 300;
	width: fit-content;
	transition: transform 0.2s ease;
}

#backNav:hover { transform: translateX(-4px); }

.modal-overlay {
	position: absolute;
	top: 0; left: 0; width: 100%; height: 100%;
	background: rgba(0,0,0,0.7);
	backdrop-filter: blur(4px);
	display: none;
	justify-content: center;
	align-items: center;
	z-index: 1000;
	border-radius: 20px;
}

.modal-content {
	background: #1A1614;
	border: 1px solid rgba(255, 230, 200, 0.1);
	padding: 24px;
	border-radius: 16px;
	width: 280px;
	box-shadow: 0 20px 50px rgba(0,0,0,0.6);
}

.modal-content h3 {
	margin: 0 0 16px;
	font-family: 'Playfair Display', serif;
	font-size: 1.1rem;
}

.period-grid {
	display: grid;
	grid-template-columns: repeat(2, 1fr);
	gap: 10px;
}

.period-opt {
	background: rgba(255,255,255,0.05);
	border: 1px solid rgba(255,255,255,0.05);
	color: #EAE5E0;
	padding: 10px;
	border-radius: 8px;
	cursor: pointer;
	font-size: 0.8rem;
	text-align: center;
	transition: all 0.2s;
}

.period-opt:hover {
	background: rgba(212, 175, 55, 0.15);
	border-color: #D4AF37;
	color: #D4AF37;
}

/* =============================== */
/* Rentabilidade Widget            */
/* =============================== */

:host {
	all: initial;
	font-family: 'Inter', sans-serif;
}

.widget-card {
	width: 880px;
	height: 430px;
	background: rgba(40, 35, 30, 0.4);
	backdrop-filter: blur(16px);
	-webkit-backdrop-filter: blur(16px);
	border: 1px solid rgba(255, 230, 200, 0.08);
	border-radius: 20px;
	box-shadow: 0 15px 30px rgba(0,0,0,0.26), inset 0 1px 0 rgba(255,255,255,0.03);
	position: relative;
	overflow: hidden;
	box-sizing: border-box;
	color: #EAE5E0;
	display: flex;
	flex-direction: row;
}

.left-side {
	flex: 1;
	padding: 24px;
	display: flex;
	flex-direction: column;
	overflow: hidden;
}

.right-side {
	width: 280px;
	border-left: 0.5px solid rgba(212, 175, 55, 0.12);
	padding: 24px 20px;
	display: flex;
	flex-direction: column;
	overflow: hidden;
}

.header {
	display: flex;
	justify-content: space-between;
	align-items: flex-start;
	margin-bottom: 20px;
	flex-shrink: 0;
	gap: 12px;
}

h2 {
	font-family: 'Playfair Display', serif;
	font-weight: 600;
	font-size: 1.2rem;
	letter-spacing: 0.02em;
	color: #EAE5E0;
	margin: 0 0 2px;
}

.subtitle {
	font-size: 0.75rem;
	color: #9A908A;
	font-weight: 400;
}

.filters {
	display: flex;
	gap: 8px;
	flex-wrap: wrap;
	justify-content: flex-end;
}

.filter-group {
	background: rgba(0,0,0,0.2);
	padding: 2px;
	border-radius: 10px;
	display: flex;
	border: 1px solid rgba(255, 230, 200, 0.08);
}

.filter-btn {
	background: transparent;
	border: none;
	color: #9A908A;
	padding: 4px 10px;
	font-size: 0.65rem;
	border-radius: 8px;
	cursor: pointer;
	transition: all 0.3s ease;
	font-family: 'Inter', sans-serif;
	font-weight: 600;
}

.filter-btn.active {
	background: rgba(255, 255, 255, 0.1);
	color: #D4AF37;
	box-shadow: 0 2px 10px rgba(0,0,0,0.2);
}

.kpi-section {
	display: grid;
	grid-template-columns: 1.5fr 1fr;
	gap: 16px;
	margin-bottom: 20px;
	flex-shrink: 0;
}

.kpi-box {
	display: flex;
	flex-direction: column;
	justify-content: center;
}

.kpi-box.secondary {
	border-left: 1px solid rgba(212, 175, 55, 0.4);
	padding-left: 18px;
}

.label {
	font-size: 0.65rem;
	text-transform: uppercase;
	letter-spacing: 0.08em;
	color: #9A908A;
	margin-bottom: 4px;
}

.main-value {
	font-size: 1.85rem;
	font-weight: 300;
	color: #EAE5E0;
	line-height: 1;
}

.variation {
	display: inline-flex;
	align-items: center;
	font-size: 0.78rem;
	font-weight: 600;
	margin-top: 6px;
	padding: 3px 8px;
	border-radius: 6px;
	background: rgba(139, 168, 136, 0.1);
	color: #8BA888;
	width: fit-content;
}

.variation.negative {
	background: rgba(217, 119, 87, 0.1);
	color: #D97757;
}

.benchmarks-summary {
	display: grid;
	grid-template-columns: repeat(2, 1fr);
	gap: 10px;
	width: 100%;
}

.bench-item {
	display: flex;
	flex-direction: column;
	border-left: 2px solid transparent;
	padding-left: 8px;
}

.bench-item.cdi { border-color: rgba(255, 255, 255, 0.45); }
.bench-item.selic { border-color: #8BA888; }
.bench-item.ibov { border-color: #D4AF37; }
.bench-item.ifix { border-color: #D97757; }

.bench-label {
	font-size: 0.58rem;
	text-transform: uppercase;
	color: #9A908A;
}

.bench-val {
	font-size: 0.9rem;
	color: #EAE5E0;
	font-weight: 600;
}

.chart-container {
	width: 100%;
	height: 140px;
	position: relative;
	cursor: crosshair;
	flex: 1;
}

svg {
	width: 100%;
	height: 100%;
	overflow: visible;
}

.chart-area {
	fill: url(#gradientGolden);
	opacity: 0.3;
}

.chart-line {
	fill: none;
	stroke: #D4AF37;
	stroke-width: 2;
	stroke-linecap: round;
	filter: drop-shadow(0 0 6px rgba(212,175,55,0.2));
}

.benchmark-line {
	fill: none;
	stroke-width: 1.15;
	stroke-dasharray: 4, 3;
	stroke-linecap: round;
	opacity: 0;
	transition: opacity 0.25s ease;
}

.benchmark-line.active { opacity: 1; }
.bench-cdi { stroke: rgba(255, 255, 255, 0.45); }
.bench-selic { stroke: #8BA888; }
.bench-ibov { stroke: #D4AF37; }
.bench-ifix { stroke: #D97757; }

.interactive-line {
	stroke: rgba(255,255,255,0.2);
	stroke-width: 1;
	stroke-dasharray: 4;
	display: none;
}

.chart-dot {
	fill: #D4AF37;
	stroke: #12100E;
	stroke-width: 2;
	display: none;
}

.chart-tooltip {
	position: absolute;
	background: rgba(25, 20, 18, 0.95);
	border: 1px solid rgba(255, 230, 200, 0.08);
	padding: 8px 12px;
	border-radius: 8px;
	font-size: 0.75rem;
	pointer-events: none;
	display: none;
	z-index: 100;
	box-shadow: 0 4px 12px rgba(0,0,0,0.5);
	transform: translate(-50%, -100%);
	margin-top: -10px;
	white-space: nowrap;
}

.chart-tooltip-title {
	font-size: 0.65rem;
	color: #9A908A;
	margin-bottom: 4px;
}

.chart-tooltip-portfolio {
	font-weight: 700;
	color: #D4AF37;
}

.chart-tooltip-band {
	font-size: 0.7rem;
	color: #9A908A;
}

.chart-tooltip-benchmark {
	font-size: 0.7rem;
	color: rgba(255,255,255,0.6);
	margin-top: 2px;
}

.details-grid {
	display: flex;
	flex-direction: column;
	gap: 12px;
	flex: 1;
	overflow-y: auto;
	scrollbar-width: thin;
	scrollbar-color: rgba(212,175,55,0.4) transparent;
}

.asset-row {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 8px 0;
	border-bottom: 1px solid rgba(255,255,255,0.03);
	cursor: pointer;
	transition: background 0.2s;
}

.asset-row:hover { background: rgba(255,255,255,0.02); }
.asset-info { display: flex; flex-direction: column; }
.asset-name { font-size: 0.85rem; }
.asset-meta { font-size: 0.7rem; color: #9A908A; }
.asset-value { text-align: right; font-size: 0.9rem; font-feature-settings: 'tnum'; }

#backNav {
	display: none;
	cursor: pointer;
	color: #D4AF37;
	margin-bottom: 4px;
	font-size: 1.4rem;
	align-items: center;
	font-weight: 300;
	width: fit-content;
	transition: transform 0.2s ease;
}

#backNav:hover { transform: translateX(-4px); }

/* =============================== */
/* Resultado Widget                */
/* =============================== */

:host {
	all: initial;
	font-family: 'Inter', sans-serif;
}

.widget-card {
	display: flex;
	flex-direction: row;
	width: 880px;
	height: 430px;
	background: rgba(40, 35, 30, 0.4);
	backdrop-filter: blur(16px);
	-webkit-backdrop-filter: blur(16px);
	border: 1px solid rgba(255, 230, 200, 0.08);
	border-radius: 20px;
	box-shadow: 0 15px 30px rgba(0,0,0,0.26), inset 0 1px 0 rgba(255,255,255,0.03);
	overflow: hidden;
	color: #EAE5E0;
}

.left-side {
	flex: 1;
	padding: 24px;
	display: flex;
	flex-direction: column;
	overflow: hidden;
}

.right-side {
	width: 280px;
	border-left: 0.5px solid rgba(212, 175, 55, 0.11);
	padding: 24px 20px;
	display: flex;
	flex-direction: column;
	overflow: hidden;
}

.header {
	display: flex;
	justify-content: space-between;
	align-items: flex-start;
	margin-bottom: 16px;
	gap: 12px;
	flex-wrap: wrap;
}

h2 {
	font-family: 'Playfair Display', serif;
	font-weight: 600;
	font-size: 1.2rem;
	letter-spacing: 0.02em;
	color: #EAE5E0;
	margin: 0 0 2px;
}

.subtitle {
	font-size: 0.75rem;
	color: #9A908A;
	font-weight: 400;
}

.filters {
	display: flex;
	gap: 8px;
	flex-wrap: wrap;
}

.filter-group {
	background: rgba(0,0,0,0.2);
	padding: 2px;
	border-radius: 10px;
	display: flex;
	border: 1px solid rgba(255, 230, 200, 0.08);
}

.filter-btn {
	background: transparent;
	border: none;
	color: #9A908A;
	padding: 4px 10px;
	font-size: 0.65rem;
	border-radius: 8px;
	cursor: pointer;
	transition: all 0.3s ease;
	font-family: 'Inter', sans-serif;
	font-weight: 600;
}

.filter-btn.active {
	background: rgba(255, 255, 255, 0.1);
	color: #D4AF37;
	box-shadow: 0 2px 10px rgba(0,0,0,0.2);
}

.kpi-section {
	display: grid;
	grid-template-columns: 1fr 1fr;
	gap: 16px;
	margin-bottom: 12px;
}

.kpi-row-secondary {
	grid-column: 1 / -1;
	display: flex;
	gap: 16px;
	margin-top: 2px;
	padding-top: 12px;
	border-top: 1px solid rgba(255, 230, 200, 0.08);
}

.kpi-mini {
	flex: 1;
}

.label {
	font-size: 0.65rem;
	text-transform: uppercase;
	letter-spacing: 0.08em;
	color: #9A908A;
	margin-bottom: 4px;
}

.main-value {
	font-size: 1.75rem;
	font-weight: 300;
	color: #EAE5E0;
	line-height: 1;
}

.main-value.positive,
.val-main.positive {
	color: #8BA888;
}

.main-value.negative,
.val-main.negative {
	color: #D97757;
}

.sub-value {
	font-size: 1.2rem;
	color: #EAE5E0;
	font-weight: 400;
}

.net-extra-row {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 10px;
	margin-top: 6px;
}

.proventos-chip {
	display: flex;
	flex-direction: column;
	align-items: flex-end;
	background: rgba(255,255,255,0.04);
	border: 1px solid rgba(255, 230, 200, 0.08);
	border-radius: 8px;
	padding: 5px 8px;
}

.proventos-label {
	font-size: 0.58rem;
	text-transform: uppercase;
	color: #9A908A;
	letter-spacing: 0.06em;
	line-height: 1.1;
}

.proventos-value {
	font-size: 0.8rem;
	color: #D4AF37;
	font-weight: 600;
	margin-top: 2px;
}

.mini-value {
	font-size: 0.95rem;
	color: #EAE5E0;
	font-weight: 600;
}

.variation-pill {
	display: inline-flex;
	font-size: 0.7rem;
	padding: 2px 6px;
	border-radius: 4px;
	margin-left: 6px;
	background: rgba(255,255,255,0.06);
	color: #9A908A;
}

.roi-line {
	font-size: 0.72rem;
	color: #9A908A;
	margin-top: 4px;
}

.chart-container {
	width: 100%;
	height: 138px;
	position: relative;
	margin-top: 2px;
	margin-bottom: 10px;
}

svg {
	width: 100%;
	height: 100%;
	overflow: visible;
}

.bar-positive { fill: #8BA888; opacity: 0.85; }
.bar-negative { fill: #D97757; opacity: 0.85; }
.bar-total { fill: #D4AF37; opacity: 0.9; }

.bar-positive:hover, .bar-negative:hover, .bar-total:hover { opacity: 1; cursor: pointer; }

.connector-line {
	stroke: rgba(255, 255, 255, 0.15);
	stroke-width: 1;
	stroke-dasharray: 2;
}

.axis-label {
	font-size: 0.6rem;
	fill: #9A908A;
	text-anchor: middle;
}

.chart-tooltip {
	position: absolute;
	background: rgba(25, 20, 18, 0.95);
	border: 1px solid rgba(255, 230, 200, 0.08);
	padding: 8px 12px;
	border-radius: 8px;
	font-size: 0.75rem;
	pointer-events: none;
	display: none;
	z-index: 100;
	box-shadow: 0 4px 12px rgba(0,0,0,0.5);
	transform: translate(-50%, -100%);
	margin-top: -10px;
}

.details-grid {
	display: flex;
	flex-direction: column;
	gap: 10px;
	flex: 1;
	overflow-y: auto;
	scrollbar-width: thin;
	scrollbar-color: rgba(212,175,55,0.4) transparent;
}

.asset-row {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 10px 12px;
	background: rgba(255, 255, 255, 0.02);
	border-radius: 8px;
	border: 1px solid transparent;
	cursor: pointer;
	transition: all 0.2s;
}

.asset-row:hover {
	background: rgba(255, 255, 255, 0.04);
	border-color: rgba(255, 230, 200, 0.08);
}

.asset-info { display: flex; flex-direction: column; }
.asset-name { font-weight: 600; font-size: 0.85rem; color: #EAE5E0; }
.asset-meta { font-size: 0.7rem; color: #9A908A; }

.asset-value { text-align: right; }
.val-main { font-size: 0.9rem; font-weight: 600; color: #EAE5E0; }
.val-sub { font-size: 0.7rem; color: #9A908A; }

#backNav {
	display: none;
	cursor: pointer;
	color: #D4AF37;
	margin-bottom: 4px;
	font-size: 1.4rem;
	align-items: center;
	font-weight: 300;
	width: fit-content;
	transition: transform 0.2s ease;
}

#backNav:hover { transform: translateX(-4px); }

@media (max-width: 840px) {
	.kpi-section { grid-template-columns: 1fr; }
	.kpi-row-secondary { flex-direction: column; gap: 12px; }
}

/* =============================== */
/* Volatilidade Widget             */
/* =============================== */

:host {
	all: initial;
	font-family: 'Inter', sans-serif;
}

.widget-card {
	display: flex;
	flex-direction: row;
	width: 880px;
	height: 430px;
	background: rgba(40, 35, 30, 0.4);
	backdrop-filter: blur(16px);
	-webkit-backdrop-filter: blur(16px);
	border: 1px solid rgba(255, 230, 200, 0.08);
	border-radius: 20px;
	box-shadow: 0 15px 30px rgba(0,0,0,0.26), inset 0 1px 0 rgba(255,255,255,0.03);
	overflow: hidden;
	color: #EAE5E0;
}

.left-side {
	flex: 1;
	padding: 24px;
	display: flex;
	flex-direction: column;
	overflow: hidden;
}

.right-side {
	width: 280px;
	border-left: 0.5px solid rgba(212, 175, 55, 0.11);
	padding: 24px 20px;
	display: flex;
	flex-direction: column;
	overflow: hidden;
}

.header {
	display: flex;
	justify-content: space-between;
	align-items: flex-start;
	margin-bottom: 20px;
	gap: 12px;
	flex-wrap: wrap;
}

h2 {
	font-family: 'Playfair Display', serif;
	font-weight: 600;
	font-size: 1.2rem;
	letter-spacing: 0.02em;
	color: #EAE5E0;
	margin: 0 0 2px;
}

.subtitle {
	font-size: 0.75rem;
	color: #9A908A;
	font-weight: 400;
}

.filters {
	display: flex;
	gap: 8px;
	flex-wrap: wrap;
}

.filter-group {
	background: rgba(0,0,0,0.2);
	padding: 2px;
	border-radius: 10px;
	display: flex;
	border: 1px solid rgba(255, 230, 200, 0.08);
}

.filter-btn {
	background: transparent;
	border: none;
	color: #9A908A;
	padding: 4px 10px;
	font-size: 0.65rem;
	border-radius: 8px;
	cursor: pointer;
	transition: all 0.3s ease;
	font-family: 'Inter', sans-serif;
	font-weight: 600;
}

.filter-btn.active {
	background: rgba(255, 255, 255, 0.1);
	color: #D4AF37;
	box-shadow: 0 2px 10px rgba(0,0,0,0.2);
}

.kpi-section {
	display: grid;
	grid-template-columns: 1fr 1fr;
	gap: 16px;
	margin-bottom: 16px;
}

.kpi-row-secondary {
	grid-column: 1 / -1;
	display: flex;
	gap: 16px;
	margin-top: 4px;
	padding-top: 12px;
	border-top: 1px solid rgba(255, 230, 200, 0.08);
}

.kpi-mini { flex: 1; }

.label {
	font-size: 0.65rem;
	text-transform: uppercase;
	letter-spacing: 0.08em;
	color: #9A908A;
	margin-bottom: 4px;
}

.main-value {
	font-size: 1.85rem;
	font-weight: 300;
	color: #EAE5E0;
	line-height: 1;
}

.sub-value {
	font-size: 1.2rem;
	color: #EAE5E0;
	font-weight: 400;
}

.mini-value {
	font-size: 0.95rem;
	color: #EAE5E0;
	font-weight: 600;
}

.variation-pill {
	display: inline-flex;
	font-size: 0.7rem;
	padding: 2px 6px;
	border-radius: 4px;
	margin-left: 6px;
	background: rgba(255,255,255,0.05);
	color: #9A908A;
}

.variation-pill.negative {
	background: rgba(217, 119, 87, 0.12);
	color: #D97757;
}

.variation-pill.positive {
	background: rgba(139, 168, 136, 0.12);
	color: #8BA888;
}

.chart-container {
	width: 100%;
	height: 160px;
	position: relative;
	margin-bottom: 12px;
	cursor: crosshair;
	flex: 1;
	min-height: 130px;
}

svg {
	width: 100%;
	height: 100%;
	overflow: visible;
}

.band-path {
	fill: rgba(212, 175, 55, 0.12);
}

.line-path {
	fill: none;
	stroke: #D4AF37;
	stroke-width: 2;
	stroke-linecap: round;
	stroke-linejoin: round;
	filter: drop-shadow(0 0 4px rgba(212, 175, 55, 0.22));
}

.bench-path {
	fill: none;
	stroke: rgba(255, 255, 255, 0.30);
	stroke-width: 1.5;
	stroke-dasharray: 4, 4;
	stroke-linecap: round;
}

.interactive-line {
	stroke: rgba(255, 255, 255, 0.2);
	stroke-width: 1;
	stroke-dasharray: 4;
	display: none;
}

.chart-dot {
	fill: #D4AF37;
	stroke: #12100E;
	stroke-width: 2;
	display: none;
}

.chart-tooltip {
	position: absolute;
	background: rgba(25, 20, 18, 0.95);
	border: 1px solid rgba(255, 230, 200, 0.08);
	padding: 8px 12px;
	border-radius: 8px;
	font-size: 0.75rem;
	pointer-events: none;
	display: none;
	z-index: 100;
	box-shadow: 0 4px 12px rgba(0,0,0,0.5);
	transform: translate(-50%, -100%);
	margin-top: -10px;
	white-space: nowrap;
}

.details-grid {
	display: flex;
	flex-direction: column;
	gap: 10px;
	flex: 1;
	overflow-y: auto;
	scrollbar-width: thin;
	scrollbar-color: rgba(212,175,55,0.4) transparent;
}

.asset-row {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 10px 12px;
	background: rgba(255, 255, 255, 0.02);
	border-radius: 8px;
	border: 1px solid transparent;
	cursor: pointer;
	transition: all 0.2s;
}

.asset-row:hover {
	background: rgba(255, 255, 255, 0.04);
	border-color: rgba(255, 230, 200, 0.08);
}

.asset-info { display: flex; flex-direction: column; }
.asset-name { font-weight: 600; font-size: 0.85rem; color: #EAE5E0; }
.asset-meta { font-size: 0.7rem; color: #9A908A; display: flex; align-items: center; gap: 6px; }

.status-dot {
	width: 6px;
	height: 6px;
	border-radius: 50%;
	display: inline-block;
	background-color: #D4AF37;
}

.asset-value { text-align: right; }
.val-main { font-size: 0.9rem; font-weight: 600; color: #EAE5E0; }
.val-sub { font-size: 0.7rem; color: #9A908A; }

#backNav {
	display: none;
	cursor: pointer;
	color: #D4AF37;
	margin-bottom: 4px;
	font-size: 1.4rem;
	align-items: center;
	font-weight: 300;
	width: fit-content;
	transition: transform 0.2s ease;
}

#backNav:hover { transform: translateX(-4px); }
